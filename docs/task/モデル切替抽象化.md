# モデル切替抽象化

## 目的 / 背景

- Gemini / OpenAI 両対応前提の設計拡張 (`docs/app.md` 発展アイデア)。

## 完了条件

- `internal/ai` に `Provider` インターフェース (`Generate(ctx, prompt, opt)`)。
- Gemini 実装をインターフェース準拠にリファクタ。
- OpenAI ダミー実装 (環境変数キー存在チェックのみ) 追加。
- Solve ハンドラで `model` パラメータにより provider 切替 (未対応モデル要求で 400)。

## スコープ

- 含む: 抽象化, DI, 簡易OpenAI実装 (API実呼出は後続)。
- 含まない: OpenAI本接続, コスト測定。

## 作業手順

- [ ] Provider インターフェース
- [ ] GeminiAdapter 実装
- [ ] OpenAIDummy 実装
- [ ] Factory 関数 `ResolveProvider(model string)`
- [ ] Solveハンドラ更新
- [ ] テスト (model切替/エラー)

## 依存関係 / リスク

- 依存: AI連携クライアント実装
- リスク: インターフェース過剰設計 → 必要最小メソッドのみ

## 見積り / 担当 / 期日

- 見積り: 1人日
- 担当: 未定
- 期日: Post-MVP (2025-10-02 目安)

## 参考リンク

- `../app.md`
