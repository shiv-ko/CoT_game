# 3. evaluatorユニットテスト

## 目的 / 背景

- 評価ロジック品質担保 (`docs/plan_0907.md` テスト戦略)。

## 完了条件

- `internal/eval/evaluator_test.go` に 10+ ケース。
- ケース: 完全一致 / 0.009差 / 0.011差 / 非数値 / 複数数値 / 負数 / 小数 / 空文字 / 前後空白 / 数字+説明文（メタ情報確認を含む）。
- 各ケースで `Evaluate` の返す `score` と `mode` に加えて、`detail["numeric_diff"]` と `detail["normalized_score"]` の整合性（`computeScore(diff)` と一致すること）を検証。
- 可能なケースは `t.Parallel()` で実行し、テーブルドリブンテストで構造化。
- `go test ./...` 成功。

## スコープ

- 含む: 単体テストのみ。
- 含まない: ベンチマーク。

## 作業手順

- [x] テーブルドリブンテスト定義
- [x] 期待scoreとmode検証
- [x] 抽出値nil/非nil確認

## 依存関係 / リスク

- 依存: 評価ロジック実装
- リスク: 仕様変更時の大量修正 → コメントに仕様リンク

## 見積り / 担当 / 期日

- 見積り: 0.5人日
- 担当: 未定
- 期日: Sprint1 (2025-09-13)

## 参考リンク

- `../plan_0907.md`
