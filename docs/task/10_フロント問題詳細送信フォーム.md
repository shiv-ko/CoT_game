# 10. フロント問題詳細送信フォーム

## 目的 / 背景

- プロンプト送信UIはMVP中核 (`docs/app.md` ユーザー機能 / `plan_0907.md` Sprint2)。

## 完了条件

- ページ: `/questions/[id]`。
- 表示: プロンプトを入力してくださいという説明文。
- フォーム: textarea(prompt)(デフォルトは「この問題を解いてください」), model選択(固定1), 送信ボタン。
- 送信: solve API 呼出→結果(レスポンスJSON)を state に保持。
- エラー/ローディング表示。
- 送信後フォーム再編集可能。
- 問題文がユーザから見えないように注意すること。(ユーザはプロンプトを入力するだけで答えを得る想定)
  - ↑ユーザ自身が問題を解けてしまうため

## スコープ

- 含む: クライアントコンポーネント, fetch ラッパ, バリデーション(空不可, 長さ上限)。
- 含まない: モデル複数選択UI（後続モデル切替タスク）。

## 作業手順

- [x] ページ scaffold
- [x] 問題個別取得 (一覧キャッシュ/渡し もしくは 再fetch)
- [x] フォーム state & バリデーション
- [x] `POST /api/v1/solve` 呼出
- [x] 結果 state 保持 / emit to 結果表示コンポーネント

## 実装詳細

- `/questions/[id]/page.tsx` 実装完了
- プロンプト入力フォーム (textarea) with バリデーション:
  - 空チェック
  - 2000文字上限チェック
  - リアルタイム文字カウント表示
- モデル選択 (gemini-1.5-flash, gemini-1.5-pro)
- ローディング状態・エラー状態の管理
- 問題文は`problem_statement`として取得し表示 (ユーザーへの説明として使用)
- SolveResult コンポーネントへの結果渡し
- 再挑戦機能 (フォームリセット)
- 一覧へ戻るナビゲーション

## 依存関係 / リスク

- 依存: Solveエンドポイント実装
- リスク: 大きなプロンプト入力UX → カウンタ表示

## 見積り / 担当 / 期日

- 見積り: 1人日
- 担当: 未定
- 期日: Sprint2 (2025-09-19)

## 参考リンク

- `../plan_0907.md`
- `../app.md`
